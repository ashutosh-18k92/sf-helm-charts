# Development environment overrides

environment: dev

# Single replica for development
replicaCount: 1

image:
  # Use latest dev image
  tag: "dev-latest"
  # Always pull in development
  pullPolicy: Always

# Development resource limits (lower than base)
resources:
  requests:
    memory: "64Mi"
    cpu: "50m"
  limits:
    memory: "128Mi"
    cpu: "100m"

# Development environment variables (override base)
env:
  LOG_LEVEL: "debug"
  NODE_ENV: "development"

# Faster health checks in development
healthCheck:
  livenessProbe:
    initialDelaySeconds: 5
    periodSeconds: 5
  readinessProbe:
    initialDelaySeconds: 3
    periodSeconds: 3

# Istio sidecar with lower resources for dev
podAnnotations:
  sidecar.istio.io/proxyCPU: "50m"
  sidecar.istio.io/proxyMemory: "64Mi"
  sidecar.istio.io/rewriteAppHTTPProbers: "true"

# No autoscaling in development
autoscaling:
  enabled: false

# No affinity rules in development (single node environment)
nodeAffinityEnabled: false
zoneAffinityEnabled: false
